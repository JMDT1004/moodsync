<main class="">
    <div class="rounded-lg p-4 m-10 shadow-lg shadow-l justify-start">
        <form class="flex flex-col m-4 p-4" action="/mood/{{this.id}}" method="POST">
            <label for="title">Title:
                <input class="title-input" type="text" id="title" name="title" value="{{this.title}}">
            </label>
            <label for="entry">Entry:</label>
            <textarea id="entry" name="entry">{{this.entry}}</textarea>

            <button class="bg-green-400 my-2 py-4 mx-8 hover:shadow-xl" type="submit">Save</button>
            <button class="bg-red-600 my-2 py-4 mx-8 hover:shadow-xl" id="deleteButton" onclick="deleteEntry('{{this.id}}')">Delete Entry</button>
        </form>


    </div>

    <section class="flex flex-col md:text-size-lg lg: text-size 2xl text-center">
        <p>Entry info:</p>
        <p class="{{this.angerColor}} p-6">Anger: {{this.anger}}</p>
        <p class="{{this.fearColor}} p-6 ">Fear: {{this.fear}}</p>
        <p class="{{this.sadnessColor}} p-6">Sadness: {{this.sadness}}</p>
        <p class="{{this.disgustColor}} p-6">Disgust: {{this.disgust}}</p>
        <p class="{{this.surpriseColor}} p-6">Surprise: {{this.surprise}}</p>
        <p class="{{this.joyColor}} p-6">Joy: {{this.joy}}</p>
    </section>
</main>


<script>
  function deleteEntry(entryId) {
    if (confirm('Are you sure you want to delete this entry?')) {
      // Send a DELETE request to delete the entry
      fetch('/mood/' + entryId, {
        method: 'DELETE'
      })
        .then(response => {
          if (response.ok) {
            // Entry deleted successfully
            console.log('Entry deleted successfully');
            // Redirect to the mood page
            window.location.href = '/mood';
          } else {
            // Error deleting entry
            console.error('Failed to delete entry');
          }
        })
        .catch(error => {
          // Error with the request
          console.error(error);
        });
    }
  }
</script>
